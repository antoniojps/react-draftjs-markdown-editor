{"ast":null,"code":"import { useEffect, useRef, useState } from 'react';\nexport default function useRafLoop(callback) {\n  var raf = useRef(null);\n\n  var _a = useState(true),\n      isActive = _a[0],\n      setIsActive = _a[1];\n\n  function loopStep() {\n    callback();\n    raf.current = requestAnimationFrame(loopStep);\n  }\n\n  function loopStop() {\n    setIsActive(false);\n  }\n\n  function loopStart() {\n    setIsActive(true);\n  }\n\n  function clearCurrentLoop() {\n    raf.current && cancelAnimationFrame(raf.current);\n  }\n\n  useEffect(function () {\n    return clearCurrentLoop;\n  }, []);\n  useEffect(function () {\n    clearCurrentLoop();\n    isActive && (raf.current = requestAnimationFrame(loopStep));\n    return clearCurrentLoop;\n  }, [isActive, callback]);\n  return [loopStop, isActive, loopStart];\n}","map":null,"metadata":{},"sourceType":"module"}